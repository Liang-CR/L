/* 移除重复的滚动条样式，使用全局样式 */
/* Player-specific styles */
/* 基本布局和播放器相关样式 */
.player-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

/* 播放器区域 */
#player {
  width: 100%;
  height: 60vh;
}

/* 加载和错误覆盖层 */
.loading-container,
.error-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.7);
  color: #fff;
  z-index: 100;
  flex-direction: column;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  border: 4px solid rgba(255, 255, 255, .3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
  margin-bottom: 10px;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.error-container {
  display: none;
  text-align: center;
  padding: 1rem;
}

.error-icon {
  font-size: 48px;
  margin-bottom: 10px;
}

/* 合并重复的选集按钮样式 */
.episode-active {
  background: #3b82f6 !important;
  border-color: #60a5fa !important;
  color: #fff !important;
  font-weight: bold;
}

.episode-grid {
  max-height: 30vh;
  overflow-y: auto;
  padding: 1rem 0;
}

/* 自定义开关样式 */
.switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 24px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: #333;
  border-radius: 24px;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background: #fff;
  border-radius: 50%;
  transition: .4s;
}

input:checked+.slider {
  background: #00ccff;
}

input:checked+.slider:before {
  transform: translateX(22px);
}

/* 键盘快捷键提示 */
.shortcut-hint {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, .8);
  color: #fff;
  padding: 1rem 2rem;
  border-radius: .5rem;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  gap: .5rem;
  z-index: 1000;
  opacity: 0;
  transition: opacity .3s;
}

.shortcut-hint.show {
  opacity: 1;
}

/* 全屏适配 */
.player-container:-webkit-full-screen,
.player-container:fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 10000;
  background: #000;
}

.player-container:-webkit-full-screen #player,
.player-container:fullscreen #player {
  width: 100%;
  height: 100%;
}

/* 锁屏样式 */
.player-locked .dplayer-controller,
.player-locked .dplayer-mask,
.player-locked .dplayer-video-wrap,
.player-locked .dplayer-bar-wrap,
.player-locked .dplayer-menu,
.player-locked .dplayer-bezel {
  pointer-events: none !important;
}

.player-locked #lock-button {
  pointer-events: auto !important;
  z-index: 51;
}

/* 选集按钮样式（未选中） */
#episode-grid button:not(.episode-active) {
  background: #222;
  color: #d1d5db;
  border: 1px solid #333;
}

#episode-grid button:not(.episode-active):hover {
  background: #333;
  color: #fff
}

/* 仅图标按钮的统一尺寸 */
.icon-btn {
  padding: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
}


/* 控件标签 */
.control-label {
  font-size: .875rem;
  color: #9ca3af;
  margin-right: .25rem;
}

/* 隐藏 "选集" 二字 */
#episodes-container h2 {
  display: none
}

/* 让整排控件靠右 */
.player-control-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 0.8rem;
  justify-content: flex-end;
  align-items: center;
}

/* 900px and below */
@media (max-width: 900px) {
  .player-control-bar {
    gap: 0.8rem;
  }

  .icon-btn {
    padding: 0.6rem;
  }
}

/* 768px and below */
@media (max-width: 768px) {
  .player-control-bar {
    gap: 0.6rem;
  }

  .icon-btn {
    padding: 0.5rem;
  }
}

/* 600px and below */
@media (max-width: 600px) {
  .player-control-bar {
    gap: 0.25rem;
    /* Equivalent to Tailwind's gap-1 */
  }

  .icon-btn {
    padding: 0.2rem;
  }
}

#episodes-count {
  display: none !important;
  /* 使用 !important 确保覆盖 Tailwind 的类 */
}

/* 优雅记住进度弹窗样式 - 放在 player_styles.css 最后 */
#progress-restore-modal {
  position: fixed;
  z-index: 22002;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: none;
  /* 默认隐藏 */
  align-items: center;
  justify-content: center;
  background: rgba(16, 22, 34, 0.45);
  /* 大屏淡黑蒙层 */
  backdrop-filter: blur(3.5px);
  transition: background 0.28s;
}

#progress-restore-modal.active {
  display: flex;
  animation: fadein-modal 0.25s;
}

@keyframes fadein-modal {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.progress-restore-card {
  background: rgba(34, 39, 51, 0.78);
  border-radius: 16px;
  box-shadow: 0 8px 40px 0 rgba(10, 18, 36, 0.25), 0 1.5px 6px 0 rgba(0, 204, 255, 0.08);
  padding: 2rem 2.5rem 1.3rem 2.5rem;
  min-width: 330px;
  max-width: 92vw;
  color: var(--text-color, #e6f2ff);
  font-size: 1.07rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  border: 1.5px solid var(--primary-color, #00ccff);
  /* 轻度毛玻璃 */
  backdrop-filter: blur(7px) saturate(1.35);
}

.progress-modal-title {
  font-size: 1.17rem;
  font-weight: 700;
  color: var(--primary-color, #00ccff);
  margin-bottom: 0.4rem;
  letter-spacing: 0.01em;
  text-align: center;
}

.progress-modal-content {
  line-height: 1.8;
  margin-bottom: 1.10rem;
  text-shadow: 0 1.5px 12px rgba(0, 204, 255, 0.08);
  text-align: center;
  color: var(--text-color, #e6f2ff);
}

.progress-modal-actions {
  display: flex;
  gap: 1.2rem;
  justify-content: center;
  margin-top: 0.2rem;
}

.progress-modal-btn {
  border: none;
  font-size: 1.08rem;
  padding: 0.48em 1.5em;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  outline: none;
  transition: background 0.16s, color 0.13s;
  box-shadow: 0 2px 7px -1.5px rgba(0, 0, 0, 0.11);
}

.progress-modal-btn.confirm {
  background: linear-gradient(94deg, #00ccff 60%, #33d6ff 100%);
  color: #fff;
}

.progress-modal-btn.confirm:hover {
  background: #05e3e3;
  color: #303343;
}

.progress-modal-btn.cancel {
  background: rgba(200, 200, 200, 0.25);
  color: #a1bada;
}

.progress-modal-btn.cancel:hover {
  background: rgba(180, 180, 180, 0.13);
  color: #73b1cb;
}

@media (max-width: 600px) {
  .progress-restore-card {
    padding: 1.25rem 0.6rem;
    min-width: 0;
    max-width: 98vw;
    font-size: 0.98rem;
  }
}

/* Original styles (some may be overridden or adjusted below) */
.skip-control-container {
  position: relative;
  display: inline-block;
}

.skip-control-container .icon-btn {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ↓↓↓ Refined styles for the skip intro/outro dropdown menu, especially for mobile ↓↓↓ */
#skip-control-dropdown {
  position: absolute; /* Keep absolute positioning */
  top: calc(100% + 8px); /* Position below the button with a small gap */
  right: 0; /* Align to the right of the parent container */
  width: clamp(200px, 60vw, 280px); /* Responsive width: min 200px, 60% of viewport width, max 280px */
  box-sizing: border-box;
  background: rgba(25, 28, 38, 0.97); /* Slightly more opaque and modern dark background */
  border-radius: 8px; /* Softer border radius */
  border: 1px solid rgba(50, 50, 60, 0.5); /* Subtler border */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25); /* Softer, more modern shadow */
  padding: 12px 14px; /* Reduced padding */
  z-index: 2222;
  opacity: 0;
  pointer-events: none;
  transform: translateY(-8px) scale(0.97);
  transition: opacity 0.18s cubic-bezier(0.25, 0.8, 0.25, 1), transform 0.22s cubic-bezier(0.25, 0.8, 0.25, 1);
}

#skip-control-dropdown.block { /* Renamed from .hidden to .block for consistency with your JS example */
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0) scale(1);
}

#skip-control-dropdown label {
  display: block; /* Ensure labels take full width for better structure */
  margin-bottom: 8px; /* Reduced margin */
  color: #c0c8e0; /* Lighter, softer text color */
  font-size: 0.9em; /* Slightly smaller font size */
  font-weight: 500;
}

#skip-control-dropdown input[type="number"] {
  width: 100%; /* Make input take full width of its container */
  font-size: 0.95em; /* Adjusted font size */
  padding: 8px 10px; /* Adjusted padding */
  border-radius: 5px; /* Softer radius */
  border: 1px solid #303442; /* Subtle border for input */
  background: #1f222e; /* Darker input background */
  color: #e1e6fa;
  margin-top: 4px; /* Reduced top margin */
  box-sizing: border-box; /* Include padding and border in the element's total width and height */
}

#skip-control-dropdown input[type="number"]:focus {
  outline: none; /* Remove default outline */
  border-color: #00aeff; /* Accent color border on focus */
  background: #2a2d3a; /* Slightly lighter background on focus */
  box-shadow: 0 0 0 2px rgba(0, 174, 255, 0.3); /* Subtle focus ring */
}

/* Styling for placeholder text in input fields */
#skip-control-dropdown input[type="number"]::placeholder {
  color: #606880; /* Softer placeholder color */
  opacity: 1; /* Ensure placeholder is visible */
}

#skip-control-dropdown button {
  font-size: 0.9em; /* Slightly smaller button font */
  border-radius: 6px; /* Softer radius */
  margin-top: 10px; /* Consistent margin */
  padding: 9px 12px; /* Adjusted padding for a sleeker look */
  width: 100%;
  transition: background-color 0.2s ease-out, color 0.15s ease-out, transform 0.1s ease-out;
  font-weight: 600;
  border: none; /* Remove border from buttons if not desired */
  cursor: pointer;
}

#skip-control-dropdown button:active {
    transform: scale(0.98); /* Slight press effect */
}

/* Apply Button */
#skip-control-dropdown #apply-skip-settings {
  background: linear-gradient(135deg, #007bff, #0056b3); /* Modern blue gradient */
  color: white;
}

#skip-control-dropdown #apply-skip-settings:hover {
  background: linear-gradient(135deg, #0069d9, #004085); /* Darker shade on hover */
}

/* Reset Button */
#skip-control-dropdown #reset-skip-settings {
  background: #4A5568; /* Cooler, more neutral gray for reset */
  color: #e0e0e0;
}

#skip-control-dropdown #reset-skip-settings:hover {
  background: #3A4354; /* Darker gray on hover */
}


/* Media query for very small screens - further refinements if needed */
@media (max-width: 360px) { /* Targeting smaller mobile screens */
  #skip-control-dropdown {
    width: clamp(180px, 75vw, 260px); /* Adjust width for very small screens */
    padding: 10px 12px;
  }

  #skip-control-dropdown label {
    font-size: 0.85em;
  }

  #skip-control-dropdown input[type="number"] {
    font-size: 0.9em;
    padding: 7px 9px;
  }

  #skip-control-dropdown button {
    font-size: 0.85em;
    padding: 8px 10px;
  }
}

/* Ensure the dropdown doesn't get cut off at the bottom of the viewport if content is too tall */
.skip-control-container {
    /* If the button is very close to the bottom of the screen,
       you might need JavaScript to detect this and flip the dropdown upwards.
       CSS alone can't easily solve this if the natural flow is downwards.
       However, for now, we assume it usually has space to open downwards. */
}