<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArtPlayer Test</title>
    
    <!-- Include ArtPlayer and Hls.js -->
    <script src="libs/hls.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.js" crossorigin="anonymous"></script>
    
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #191919;
            color: #eee;
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .player-container {
            width: 100%;
            margin-bottom: 20px;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        
        #player {
            width: 100%;
            height: 500px;
            max-height: 70vh;
        }
        
        h1 {
            margin-bottom: 20px;
        }
        
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 8px 16px;
            background: #333;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background: #444;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ArtPlayer Test</h1>
        
        <div class="player-container">
            <div id="player"></div>
        </div>
        
        <div class="controls">
            <button id="play-sample">Play Sample Video</button>
            <button id="toggle-fullscreen">Toggle Fullscreen</button>
        </div>
    </div>
    
    <script>
        // Initialize ArtPlayer with a sample video
        document.addEventListener('DOMContentLoaded', function() {
            // Create ArtPlayer instance
            const art = new Artplayer({
                container: '#player',
                url: 'https://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/rabbit320.mp4',
                title: 'Sample Video',
                volume: 0.8,
                isLive: false,
                muted: false,
                autoplay: false,
                pip: true,
                autoSize: true,
                autoMini: true,
                screenshot: true,
                setting: true,
                loop: false,
                flip: true,
                playbackRate: true,
                aspectRatio: true,
                fullscreen: true,
                fullscreenWeb: false,
                mutex: true,
                backdrop: true,
                playsInline: true,
                theme: '#23ade5',
                lang: navigator.language.toLowerCase()
            });

            // Save instance to window for debugging
            window.art = art;
            
            // Add button event listeners
            document.getElementById('play-sample').addEventListener('click', function() {
                art.url = 'https://mdn.github.io/learning-area/html/multimedia-and-embedding/video-and-audio-content/rabbit320.mp4';
                art.play();
            });
            
            document.getElementById('toggle-fullscreen').addEventListener('click', function() {
                art.fullscreen = !art.fullscreen;
            });
            
            // Listen for events
            art.on('ready', () => {
                console.log('ArtPlayer is ready');
            });
            
            art.on('play', () => {
                console.log('Video started playing');
            });
            
            art.on('error', (error) => {
                console.error('ArtPlayer error:', error);
            });
        });
    </script>
</body>
</html>
